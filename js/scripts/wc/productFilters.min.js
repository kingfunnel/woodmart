!function(a){woodmartThemeModule.$document.on("wdShopPageInit",function(){woodmartThemeModule.productFilters()}),a.each(["frontend/element_ready/wd_product_filters.default"],function(a,b){woodmartThemeModule.wdElementorAddAction(b,function(){woodmartThemeModule.productFilters()})}),woodmartThemeModule.productFilters=function(){var b=function(a,b){if(0!==a.length){var c=a.val();c.indexOf(",")>0?a.val(c.replace(","+b,"").replace(b+",","")):a.val(c.replace(b,""))}},c=function(b){e(b),f(b),woodmartThemeModule.$body.hasClass("woodmart-ajax-shop-on")&&void 0!==a.fn.pjax&&b.hasClass("with-ajax")&&(a.pjax({container:".main-page-wrapper",timeout:woodmart_settings.pjax_timeout,url:b.attr("action"),data:b.serialize(),scrollTo:!1,renderCallback:function(a,b,c){woodmartThemeModule.removeDuplicatedStylesFromHTML(b,function(b){a.html(b),c(),woodmartThemeModule.$document.trigger("wdShopPageInit"),woodmartThemeModule.$document.trigger("wood-images-loaded")})}}),b.find(".wd-pf-btn button, .filter_price_slider_amount button").prop("disabled",!0))},d=a(".wd-pf-checkboxes");d.on("click",".selected-value",function(){var d=a(this),e=d.parents(".wd-pf-checkboxes"),f=e.find(".result-input"),g=d.data("title");if("price-filter"===g){var h=d.data("min"),i=d.data("max"),j=e.find(".price_slider_widget");return j.slider("values",0,h),j.slider("values",1,i),e.find(".min_price").val(""),e.find(".max_price").val(""),0===a(".wd-product-filters .wd-pf-btn button").length&&c(d.parents(".wd-product-filters")),void woodmartThemeModule.$body.trigger("filter_price_slider_slide",[h,i,h,i,j])}b(f,g),e.find('.pf-value[data-val="'+g+'"]').parent().removeClass("chosen"),0===a(".wd-product-filters .wd-pf-btn button").length&&c(d.parents(".wd-product-filters")),d.remove()}),d.each(function(){var b=a(this),c=b.find(".wd-pf-title"),d=(c.siblings(".wd-pf-dropdown"),b.hasClass("multi_select"));c.on("click",function(d){var f=d.target;a(f).is(c.find(".selected-value"))||(b.hasClass("wd-opened")?e():(b.addClass("wd-opened"),setTimeout(function(){woodmartThemeModule.$document.trigger("wdProductFiltersOpened")},300)))}),woodmartThemeModule.$document.on("click",function(f){var g=f.target;(b.hasClass("wd-opened")&&d&&!a(g).is(b)&&!a(g).parents().is(b)||!d&&!a(g).is(c)&&!a(g).parents().is(c))&&e()});var e=function(){b.removeClass("wd-opened")}}),a(".wd-pf-checkboxes li > .pf-value").on("click",function(d){d.preventDefault();var e=a(this),f=e.parent(),g=e.parents(".wd-pf-checkboxes"),h=g.find(".result-input"),i=g.find(".wd-pf-results"),j=g.hasClass("multi_select"),k=h.val(),l=e.data("title"),m=e.data("val");j?f.hasClass("chosen")?(b(h,m),i.find('li[data-title="'+m+'"]').remove(),f.removeClass("chosen")):(""===k?h.val(m):h.val(k+","+m),i.prepend('<li class="selected-value" data-title="'+m+'">'+l+"</li>"),f.addClass("chosen")):f.hasClass("chosen")?(h.val(""),i.find(".selected-value").remove(),f.removeClass("chosen")):(h.val(m),i.find(".selected-value").remove(),i.prepend('<li class="selected-value" data-title="'+m+'">'+l+"</li>"),f.parents(".wd-scroll-content").find(".chosen").removeClass("chosen"),f.addClass("chosen")),0===a(".wd-product-filters .wd-pf-btn button").length&&c(e.parents(".wd-product-filters"))});var e=function(b){b.find(".wd-pf-checkboxes").each(function(){var c=a(this);c.find('input[type="hidden"]').length>0&&!c.find('input[type="hidden"]').val()?c.find('input[type="hidden"]').remove():c.hasClass("wd-pf-categories")&&b.attr("action",woodmart_settings.shop_url)})},f=function(a){var b=a.find(".wd-pf-categories .chosen .pf-value");b.length>0&&a.attr("action",b.attr("href"))};woodmartThemeModule.$body.on("filter_price_slider_create filter_price_slider_slide",function(a,b,c,d,e,f){var g=accounting.formatMoney(b,{symbol:woocommerce_price_slider_params.currency_format_symbol,decimal:woocommerce_price_slider_params.currency_format_decimal_sep,thousand:woocommerce_price_slider_params.currency_format_thousand_sep,precision:woocommerce_price_slider_params.currency_format_num_decimals,format:woocommerce_price_slider_params.currency_format}),h=accounting.formatMoney(c,{symbol:woocommerce_price_slider_params.currency_format_symbol,decimal:woocommerce_price_slider_params.currency_format_decimal_sep,thousand:woocommerce_price_slider_params.currency_format_thousand_sep,precision:woocommerce_price_slider_params.currency_format_num_decimals,format:woocommerce_price_slider_params.currency_format});f.siblings(".filter_price_slider_amount").find("span.from").html(g),f.siblings(".filter_price_slider_amount").find("span.to").html(h);var i=f.parents(".wd-pf-checkboxes").find(".wd-pf-results"),j=i.find(".selected-value");b===d&&c===e?j.remove():0===j.length?i.prepend('<li class="selected-value" data-title="price-filter" data-min="'+d+'" data-max="'+e+'">'+g+" - "+h+"</li>"):j.html(g+" - "+h),woodmartThemeModule.$body.trigger("price_slider_updated",[b,c])}),a(".wd-pf-price-range .price_slider_widget").each(function(){var b=a(this),c=b.siblings(".filter_price_slider_amount").find(".min_price"),d=b.siblings(".filter_price_slider_amount").find(".max_price"),e=parseInt(c.data("min")),f=parseInt(d.data("max")),g=parseInt(c.val()),h=parseInt(d.val());a(".price_slider_widget, .price_label").show(),b.slider({range:!0,animate:!0,min:e,max:f,values:[g,h],create:function(){g===e&&h===f&&(c.val(""),d.val("")),woodmartThemeModule.$body.trigger("filter_price_slider_create",[g,h,e,f,b])},slide:function(a,g){g.values[0]===e&&g.values[1]===f?(c.val(""),d.val("")):(c.val(g.values[0]),d.val(g.values[1])),woodmartThemeModule.$body.trigger("filter_price_slider_slide",[g.values[0],g.values[1],e,f,b])},change:function(a,b){woodmartThemeModule.$body.trigger("price_slider_change",[b.values[0],b.values[1]])}})}),a(".wd-product-filters").one("click",".wd-pf-btn button, .filter_price_slider_amount button",function(){var b=a(this),d=b.parents(".wd-product-filters");c(d)}),a(".wd-pf-checkboxes .chosen > .pf-value").each(function(){var b=a(this);b.parents(".wd-pf-checkboxes").find(".wd-pf-results").prepend('<li class="selected-value" data-title="'+b.data("val")+'">'+b.data("title")+"</li>")})},a(document).ready(function(){woodmartThemeModule.productFilters()})}(jQuery);